{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SACA,MAGMC,EAAaC,SAASC,cAAc,iCACpCC,EAAWF,SAASC,cAAc,iCAClCE,EAAaH,SAASC,cAAc,iBAC1C,IAAIG,EAAY,GAoChB,SAASC,IACPD,EAAUE,SAAQC,KAKpBC,eAA8BC,SACJZ,EAAAa,IAEpB,sCAAsCD,6DAEvCE,MAAKC,KAKV,SAAsBC,GACpB,MAAMC,EAAQD,EAAKE,OAAOC,KAAIC,GAAMA,EAAGC,OAAMC,KAAK,MAC5CC,EAAU,qCAAqCP,EAAKJ,uBA3DxC,kCA4DWI,EAAKQ,mBAChCR,EAAKS,yDAEqBT,EAAKS,iDACER,OAAWD,EAAKU,aAAaC,MAC9D,EACA,oBAGFrB,EAAWsB,mBAAmB,YAAaL,E,CAhBvCM,CAAad,EAAUC,KAAK,G,CAV9Bc,CAAepB,EAAQ,G,CApC3BR,EAAW6B,iBAAiB,SAG5B,WACE7B,EAAW8B,UAAUC,IAAI,oBACzB5B,EAAS2B,UAAUE,OAAO,oBAC1B5B,EAAW6B,UAAY,GACvB,MAAMC,EAAeC,aAAaC,QAAQ,uBAG1C,GAFA/B,EAAYgC,KAAKC,MAAMJ,IAElBA,EAAc,CACjB,MAAMb,EAAU,yDAEhB,YADAjB,EAAW6B,UAAYZ,E,CAGzBf,G,IAdFH,EAAS0B,iBAAiB,SAiB1B,WACE1B,EAAS2B,UAAUC,IAAI,oBACvB/B,EAAW8B,UAAUE,OAAO,oBAC5B5B,EAAW6B,UAAY,GACvB,MAAMM,EAAaJ,aAAaC,QAAQ,qBAGxC,GAFA/B,EAAYgC,KAAKC,MAAMC,IAElBA,EAAY,CACf,MAAMlB,EAAU,uDAEhB,YADAjB,EAAW6B,UAAYZ,E,CAIzBf,G","sources":["src/js/library-watched-queue.js"],"sourcesContent":["const axios = require('axios');\nconst API_KEY = '5fe2b2c003e2bf661ee6b8424d931ac2';\nconst IMG_REGUEST = 'https://image.tmdb.org/t/p/w342';\n\nconst btnWatched = document.querySelector('.header__library-button-watch');\nconst btnQueue = document.querySelector('.header__library-button-queue');\nconst moviesList = document.querySelector('[data-movies]');\nlet parseFilm = [];\n\nbtnWatched.addEventListener('click', onLoadWatched);\nbtnQueue.addEventListener('click', onLoadQueue);\n\nfunction onLoadWatched() {\n  btnWatched.classList.add('btn-color-change');\n  btnQueue.classList.remove('btn-color-change');\n  moviesList.innerHTML = '';\n  const filmsWatched = localStorage.getItem('STORAGE_KEY_WATCHED');\n  parseFilm = JSON.parse(filmsWatched);\n\n  if (!filmsWatched) {\n    const marckup = `<span class=\"film__name\">Your watched is empty!</span>`;\n    moviesList.innerHTML = marckup;\n    return;\n  }\n  getId();\n}\n\nfunction onLoadQueue() {\n  btnQueue.classList.add('btn-color-change');\n  btnWatched.classList.remove('btn-color-change');\n  moviesList.innerHTML = '';\n  const filmsQueue = localStorage.getItem('STORAGE_KEY_QUEUE');\n  parseFilm = JSON.parse(filmsQueue);\n\n  if (!filmsQueue) {\n    const marckup = `<span class=\"film__name\">Your queue is empty!</span>`;\n    moviesList.innerHTML = marckup;\n    return;\n  }\n\n  getId();\n}\n\nfunction getId() {\n  parseFilm.forEach(element => {\n    getElementById(element);\n  });\n}\n\nasync function getElementById(id) {\n  const respounse = await axios\n    .get(\n      `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`\n    )\n    .then(respounse => {\n      renderMovies(respounse.data);\n    });\n}\n\nfunction renderMovies(data) {\n  const genre = data.genres.map(el => el.name).join(', ');\n  const marckup = `<li class=\"films__item\" data-id = ${data.id}>\n      <img src=${IMG_REGUEST + data.poster_path} alt=${\n    data.title\n  } class=\"film_img\"/>\n      <p class=\"film__name\">${data.title}</p>\n      <p class=\"film__description\">${genre} | ${data.release_date.slice(\n    0,\n    4\n  )}</p>\n    </li>`;\n  moviesList.insertAdjacentHTML('beforeend', marckup);\n}\n"],"names":["$2shzp","parcelRequire","$3eefb41ef36657d3$var$btnWatched","document","querySelector","$3eefb41ef36657d3$var$btnQueue","$3eefb41ef36657d3$var$moviesList","$3eefb41ef36657d3$var$parseFilm","$3eefb41ef36657d3$var$getId","forEach","element","async","id","get","then","respounse","data","genre","genres","map","el","name","join","marckup","poster_path","title","release_date","slice","insertAdjacentHTML","$3eefb41ef36657d3$var$renderMovies","$3eefb41ef36657d3$var$getElementById","addEventListener","classList","add","remove","innerHTML","filmsWatched","localStorage","getItem","JSON","parse","filmsQueue"],"version":3,"file":"library.97091d90.js.map"}